window.addEventListener("load",function(){let e=document.querySelector(".preloader");e.style.opacity="0",setTimeout(()=>{e.style.display="none"},500);let t=document.querySelectorAll(".hero-content, .status-card, .feature, .feature-card, .gallery-item, .team-member, .contact-item");t.forEach((e,t)=>{setTimeout(()=>{e.classList.add("fade-in")},100*t)})});const hamburger=document.querySelector(".hamburger"),navLinks=document.querySelector(".nav-links");hamburger.addEventListener("click",()=>{hamburger.classList.toggle("active"),navLinks.classList.toggle("active")}),document.querySelectorAll(".nav-links li a").forEach(e=>{e.addEventListener("click",()=>{hamburger.classList.remove("active"),navLinks.classList.remove("active")})}),window.addEventListener("scroll",function(){let e=document.querySelector("header");e.classList.toggle("scrolled",window.scrollY>50)});const serverStatusUrl="https://servers-frontend.fivem.net/api/servers/single/77y8ob",serverNameElement=document.getElementById("server-name"),statusTextElement=document.getElementById("status-text"),playerCountElement=document.getElementById("player-count"),maxPlayersElement=document.getElementById("max-players"),serverMapElement=document.getElementById("server-map"),serverVersionElement=document.getElementById("server-version"),serverPingElement=document.getElementById("server-ping"),playerListElement=document.getElementById("player-list"),refreshButton=document.getElementById("refresh-status");async function fetchServerStatus(){try{statusTextElement.textContent="nač\xedt\xe1n\xed...",statusTextElement.classList.add("loading-dots");let e=await fetch(serverStatusUrl);if(!e.ok)throw Error("Network response was not ok");let t=await e.json();if(t&&t.Data)updateServerInfo(t.Data),console.log("Server data loaded successfully:",t.Data);else throw Error("Invalid data structure")}catch(r){console.error("Error fetching server status:",r),serverNameElement.textContent="WHSRP.EU",statusTextElement.textContent="offline",statusTextElement.classList.remove("loading-dots"),playerCountElement.textContent="0",maxPlayersElement.textContent="0",serverPingElement.textContent="--",serverMapElement.textContent="Los Santos",serverVersionElement.textContent="Ver. 14964 | 3407",playerListElement.innerHTML='<li class="loading">Nelze nač\xedst data serveru. Server je pravděpodobně offline.</li>'}}function updateServerInfo(e){if(!e){statusTextElement.textContent="offline",statusTextElement.classList.remove("loading-dots");return}serverNameElement.textContent="WHSRP.EU",statusTextElement.textContent="online",statusTextElement.classList.remove("loading-dots");let t=document.querySelector(".server-icon");t.classList.add("pulse");let r=e.clients||0,n=e.sv_maxclients||0;playerCountElement.textContent=r,maxPlayersElement.textContent=n,serverMapElement.textContent="Los Santos",serverVersionElement.textContent="Ver. 14964 | 3407",serverPingElement.textContent=`${Math.floor(40*Math.random())+20}ms`,updatePlayerList(e.players||[])}function updatePlayerList(e){if(0===e.length){playerListElement.innerHTML='<li class="loading">Ž\xe1dn\xed hr\xe1či nejsou online.</li>';return}playerListElement.innerHTML="",e.forEach(e=>{let t=document.createElement("li");t.textContent=e.name||"Nezn\xe1m\xfd hr\xe1č",playerListElement.appendChild(t)})}fetchServerStatus();let statusInterval=setInterval(fetchServerStatus,3e4);refreshButton.addEventListener("click",()=>{refreshButton.querySelector("i").style.animation="spin 1s linear",setTimeout(()=>{refreshButton.querySelector("i").style.animation=""},1e3),fetchServerStatus()});const animateOnScroll=()=>{let e=document.querySelectorAll(".feature-card, .gallery-item, .team-member, .contact-item");e.forEach(e=>{let t=e.getBoundingClientRect().top,r=window.innerHeight/1.2;t<r&&(e.style.opacity="1",e.style.transform="translateY(0)")})};function handleServerStatusError(){console.log("Attempting to reconnect to server status API..."),setTimeout(fetchServerStatus,5e3)}document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".feature-card, .gallery-item, .team-member, .contact-item");e.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.5s ease, transform 0.5s ease"}),animateOnScroll()}),window.addEventListener("scroll",animateOnScroll),console.log("Fetching server status from:",serverStatusUrl),document.querySelectorAll(".btn").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="translateY(-3px)",e.style.boxShadow="0 7px 14px rgba(0, 118, 255, 0.25)"}),e.addEventListener("mouseleave",()=>{e.style.transform="translateY(0)",e.style.boxShadow=""})}),window.addEventListener("scroll",()=>{let e=document.querySelector(".hero"),t=window.scrollY;t<window.innerHeight&&(e.style.backgroundPosition=`center ${.4*t}px`)});const observerOptions={root:null,rootMargin:"0px",threshold:.1},observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("fade-in"),observer.unobserve(e.target))})},observerOptions);document.querySelectorAll(".section-title, .feature, .feature-card, .gallery-item, .team-member, .contact-item").forEach(e=>{observer.observe(e)});
